---
title: Transformers
description: Choose and configure the right transformer for your TypeScript and JavaScript projects
---

import { Callout } from '../../components/Callout'
import { Tabs, TabItem } from '../../components/Tabs'
import { ComparisonTable } from '../../components/ComparisonTable'

# Transformers

Packen supports multiple transformers to convert your TypeScript and modern JavaScript into optimized bundles. Each transformer has its own strengths and trade-offs.

## Available Transformers

<ComparisonTable>
  | Feature | esbuild | swc | OXC | sucrase | TypeScript |
  |---------|---------|-----|-----|---------|------------|
  | **Speed** | ⚡⚡⚡ | ⚡⚡⚡ | ⚡⚡⚡⚡ | ⚡⚡ | ⚡ |
  | **TypeScript** | ✅ | ✅ | ✅ | ✅ | ✅ |
  | **JSX/TSX** | ✅ | ✅ | ✅ | ✅ | ✅ |
  | **Decorators** | ✅ | ✅ | ✅ | ✅ | ✅ |
  | **Source Maps** | ✅ | ✅ | ✅ | ✅ | ✅ |
  | **Minification** | ✅ | ✅ | ✅ | ❌ | ❌ |
  | **Tree Shaking** | ✅ | ✅ | ✅ | ❌ | ❌ |
  | **Bundle Size** | Small | Small | Smallest | Medium | Large |
</ComparisonTable>

## esbuild

**Recommended for most projects**

esbuild is a fast JavaScript bundler and minifier written in Go. It's the default transformer in Packen due to its excellent balance of speed, features, and reliability.

### Configuration

```typescript
import { defineConfig } from '@visulima/packem/config'

export default defineConfig({
  transformer: 'esbuild',
  esbuild: {
    target: 'es2020',
    jsx: 'automatic',
    jsxImportSource: 'react',
    minify: true,
    keepNames: false,
    legalComments: 'none'
  }
})
```

### Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `target` | `string` | `'es2020'` | JavaScript target version |
| `jsx` | `'transform' \| 'preserve' \| 'automatic'` | `'automatic'` | JSX transformation mode |
| `jsxImportSource` | `string` | `'react'` | JSX import source for automatic mode |
| `minify` | `boolean` | `false` | Enable minification |
| `keepNames` | `boolean` | `false` | Preserve function and class names |
| `legalComments` | `'none' \| 'inline' \| 'eof' \| 'linked' \| 'external'` | `'none'` | How to handle legal comments |

### Use Cases

- **General purpose** - Great for most TypeScript/JavaScript projects
- **React projects** - Excellent JSX support
- **Performance critical** - Very fast compilation
- **Production builds** - Built-in minification

<Callout type="tip">
esbuild is the recommended transformer for most projects due to its speed and comprehensive feature set.
</Callout>

## swc

**Rust-powered performance**

swc (Speedy Web Compiler) is a fast TypeScript/JavaScript compiler written in Rust. It offers similar performance to esbuild with some additional features.

### Configuration

```typescript
import { defineConfig } from '@visulima/packem/config'

export default defineConfig({
  transformer: 'swc',
  swc: {
    jsc: {
      target: 'es2020',
      parser: {
        syntax: 'typescript',
        tsx: true,
        decorators: true
      },
      transform: {
        react: {
          runtime: 'automatic',
          importSource: 'react'
        }
      }
    },
    minify: true
  }
})
```

### Options

The swc configuration follows the [swc configuration schema](https://swc.rs/docs/configuration/swcrc).

Key options:
- `jsc.target` - JavaScript target version
- `jsc.parser.syntax` - Parser syntax ('typescript' or 'ecmascript')
- `jsc.transform.react` - React transformation options
- `minify` - Enable minification

### Use Cases

- **Large codebases** - Excellent performance on big projects
- **Advanced TypeScript** - Great support for complex TypeScript features
- **Custom transformations** - Extensible with plugins
- **Rust ecosystem** - If you're already using Rust tools

## OXC

**Next-generation performance**

OXC (Oxidation Compiler) is a collection of JavaScript tools written in Rust, designed to be extremely fast and memory efficient.

### Configuration

```typescript
import { defineConfig } from '@visulima/packem/config'

export default defineConfig({
  transformer: 'oxc',
  oxc: {
    jsx: {
      runtime: 'automatic',
      importSource: 'react'
    },
    typescript: {
      declaration: true
    }
  }
})
```

### Options

| Option | Type | Description |
|--------|------|-------------|
| `jsx.runtime` | `'classic' \| 'automatic'` | JSX transformation runtime |
| `jsx.importSource` | `string` | JSX import source for automatic runtime |
| `typescript.declaration` | `boolean` | Generate TypeScript declarations |

### Use Cases

- **Cutting-edge performance** - Fastest transformer available
- **Memory efficiency** - Lowest memory usage
- **Future-proof** - Latest JavaScript/TypeScript features
- **Experimental projects** - Try the latest tooling

<Callout type="warning">
OXC is still in active development. While very fast, it may have fewer features than more mature transformers.
</Callout>

## sucrase

**Fast and simple**

sucrase is a super-fast alternative to Babel for when you want to use next-generation JavaScript features.

### Configuration

```typescript
import { defineConfig } from '@visulima/packem/config'

export default defineConfig({
  transformer: 'sucrase',
  sucrase: {
    transforms: ['typescript', 'jsx'],
    jsxRuntime: 'automatic',
    jsxImportSource: 'react'
  }
})
```

### Options

| Option | Type | Description |
|--------|------|-------------|
| `transforms` | `string[]` | List of transforms to apply |
| `jsxRuntime` | `'classic' \| 'automatic'` | JSX runtime mode |
| `jsxImportSource` | `string` | JSX import source |

### Available Transforms

- `typescript` - TypeScript syntax
- `jsx` - JSX syntax
- `imports` - ES6 import/export
- `flow` - Flow type annotations

### Use Cases

- **Simple projects** - When you don't need advanced features
- **Fast development** - Quick compilation for development builds
- **Legacy compatibility** - When you need specific transform behavior

## TypeScript

**Official TypeScript compiler**

Use the official TypeScript compiler when you need maximum compatibility and type checking.

### Configuration

```typescript
import { defineConfig } from '@visulima/packem/config'

export default defineConfig({
  transformer: 'typescript',
  typescript: {
    tsconfig: './tsconfig.json',
    compilerOptions: {
      target: 'ES2020',
      module: 'ESNext',
      jsx: 'react-jsx',
      declaration: true,
      sourceMap: true
    }
  }
})
```

### Options

| Option | Type | Description |
|--------|------|-------------|
| `tsconfig` | `string` | Path to tsconfig.json |
| `compilerOptions` | `object` | TypeScript compiler options |

### Use Cases

- **Type checking** - When you need strict type checking during build
- **Complex TypeScript** - Advanced TypeScript features
- **Library development** - When generating .d.ts files is critical
- **Compatibility** - Maximum TypeScript compatibility

<Callout type="info">
The TypeScript transformer is slower than alternatives but provides the most comprehensive TypeScript support.
</Callout>

## Choosing the Right Transformer

### For Most Projects: **esbuild**

```typescript
export default defineConfig({
  transformer: 'esbuild'
})
```

Best balance of speed, features, and reliability.

### For Maximum Performance: **OXC**

```typescript
export default defineConfig({
  transformer: 'oxc'
})
```

Cutting-edge performance, but newer with fewer features.

### For Large Codebases: **swc**

```typescript
export default defineConfig({
  transformer: 'swc'
})
```

Excellent performance with comprehensive features.

### For Type Safety: **TypeScript**

```typescript
export default defineConfig({
  transformer: 'typescript'
})
```

Official compiler with full type checking.

### For Simplicity: **sucrase**

```typescript
export default defineConfig({
  transformer: 'sucrase'
})
```

Simple and fast for basic transformations.

## Advanced Configuration

### Per-Environment Transformers

Use different transformers for different environments:

```typescript
import { defineConfig } from '@visulima/packem/config'

export default defineConfig({
  transformer: process.env.NODE_ENV === 'development' ? 'esbuild' : 'swc',
  
  // Development: fast compilation
  esbuild: {
    minify: false,
    sourcemap: true
  },
  
  // Production: optimized output
  swc: {
    minify: true,
    sourcemap: false
  }
})
```

### Conditional Transformer Options

```typescript
export default defineConfig({
  transformer: 'esbuild',
  esbuild: {
    minify: process.env.NODE_ENV === 'production',
    target: process.env.TARGET_ES || 'es2020',
    jsx: process.env.JSX_RUNTIME === 'classic' ? 'transform' : 'automatic'
  }
})
```

### Multiple Entry Points with Different Transformers

```typescript
export default defineConfig([
  // Modern build with OXC
  {
    transformer: 'oxc',
    rollup: {
      input: 'src/modern.ts',
      output: {
        file: 'dist/modern.js',
        format: 'esm'
      }
    }
  },
  
  // Legacy build with TypeScript
  {
    transformer: 'typescript',
    rollup: {
      input: 'src/legacy.ts',
      output: {
        file: 'dist/legacy.js',
        format: 'cjs'
      }
    }
  }
])
```

## Performance Comparison

Based on typical TypeScript projects:

| Transformer | Small Project | Medium Project | Large Project |
|-------------|---------------|----------------|---------------|
| **OXC** | ~50ms | ~200ms | ~800ms |
| **esbuild** | ~80ms | ~300ms | ~1.2s |
| **swc** | ~100ms | ~350ms | ~1.5s |
| **sucrase** | ~120ms | ~400ms | ~2.0s |
| **TypeScript** | ~500ms | ~2.0s | ~8.0s |

<Callout type="info">
Performance varies based on project complexity, TypeScript features used, and hardware. These are approximate benchmarks.
</Callout>

## Troubleshooting

### Transformer Not Found

Make sure the transformer is installed:

<Tabs>
  <TabItem label="esbuild">
    ```bash
    npm install --save-dev esbuild
    ```
  </TabItem>
  <TabItem label="swc">
    ```bash
    npm install --save-dev @swc/core
    ```
  </TabItem>
  <TabItem label="oxc">
    ```bash
    npm install --save-dev oxc-transform
    ```
  </TabItem>
  <TabItem label="sucrase">
    ```bash
    npm install --save-dev sucrase
    ```
  </TabItem>
  <TabItem label="typescript">
    ```bash
    npm install --save-dev typescript
    ```
  </TabItem>
</Tabs>

### Compilation Errors

1. **Check your tsconfig.json** - Ensure it's valid and compatible
2. **Verify source files** - Check for syntax errors
3. **Update transformer** - Make sure you're using a recent version
4. **Check configuration** - Verify transformer-specific options

### Performance Issues

1. **Use faster transformer** - Switch to esbuild or OXC
2. **Enable caching** - Use Packen's built-in caching
3. **Reduce bundle size** - Enable tree shaking and minification
4. **Parallel processing** - Use multiple workers for large projects

---

Need more help? Check the [troubleshooting guide](/docs/guide/troubleshooting) or [transformer-specific examples](/docs/examples/transformers).
---
title: Configuration Options
description: Complete reference for all Packen configuration options
---

import { FeatureCard } from '../../components/FeatureCard'

# Configuration Options

Packen provides extensive configuration options to customize your build process. All options can be configured through the `packem.config.ts` file or passed via CLI arguments.

## Quick Navigation

<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6">
  <FeatureCard
    title="Entry Points"
    description="Configure entry points and automatic detection"
    href="/docs/options/entry"
    icon="ðŸ“‚"
  />
  
  <FeatureCard
    title="Config File"
    description="Setup and structure of configuration files"
    href="/docs/options/config-file"
    icon="âš™ï¸"
  />
  
  <FeatureCard
    title="Declaration Files"
    description="TypeScript declaration generation and options"
    href="/docs/options/declaration-files"
    icon="ðŸ“"
  />
  
  <FeatureCard
    title="Output Format"
    description="Configure ESM, CJS, IIFE, and UMD formats"
    href="/docs/options/output-format"
    icon="ðŸ“¦"
  />
  
  <FeatureCard
    title="Output Directory"
    description="Control where files are written and organized"
    href="/docs/options/output-directory"
    icon="ðŸ“"
  />
  
  <FeatureCard
    title="Target"
    description="JavaScript compilation targets and environments"
    href="/docs/options/target"
    icon="ðŸŽ¯"
  />
  
  <FeatureCard
    title="Externals"
    description="Configure external dependencies"
    href="/docs/options/externals"
    icon="ðŸ”—"
  />
  
  <FeatureCard
    title="Watch Mode"
    description="File watching for development builds"
    href="/docs/options/watch"
    icon="ðŸ‘€"
  />
  
  <FeatureCard
    title="Source Maps"
    description="Debug information and source map generation"
    href="/docs/options/source-maps"
    icon="ðŸ—ºï¸"
  />
  
  <FeatureCard
    title="Minification"
    description="Code minification for production builds"
    href="/docs/options/minify"
    icon="ðŸ—œï¸"
  />
  
  <FeatureCard
    title="Plugins"
    description="Extend functionality with Rollup plugins"
    href="/docs/options/plugins"
    icon="ðŸ”Œ"
  />
  
  <FeatureCard
    title="Hooks"
    description="Build lifecycle hooks and custom logic"
    href="/docs/options/hooks"
    icon="ðŸª"
  />
</div>

## Configuration Structure

```typescript
// packem.config.ts
import { defineConfig } from '@visulima/packem'

export default defineConfig({
  // Entry points
  entry: './src/index.ts',
  
  // Output configuration
  rollup: {
    output: {
      format: 'esm',
      dir: 'dist'
    }
  },
  
  // Build options
  target: 'es2020',
  minify: true,
  sourcemap: true,
  
  // Development
  watch: true,
  
  // Lifecycle hooks
  hooks: {
    'build:before': async () => {
      console.log('Starting build...')
    }
  }
})
```

## Core Options

### Entry and Output
- **[Entry](/docs/options/entry)** - Configure entry points and automatic detection
- **[Output Format](/docs/options/output-format)** - ESM, CJS, IIFE, UMD output formats
- **[Output Directory](/docs/options/output-directory)** - File organization and directory structure

### Build Configuration
- **[Config File](/docs/options/config-file)** - Configuration file setup and structure
- **[Target](/docs/options/target)** - JavaScript compilation targets and environments
- **[Declaration Files](/docs/options/declaration-files)** - TypeScript declaration generation

### Dependencies and Externals
- **[Externals](/docs/options/externals)** - Configure external dependencies that shouldn't be bundled

### Development and Debugging
- **[Watch Mode](/docs/options/watch)** - File watching for development builds
- **[Source Maps](/docs/options/source-maps)** - Debug information and source map generation

### Optimization
- **[Minification](/docs/options/minify)** - Code minification with multiple engines

### Extensibility
- **[Plugins](/docs/options/plugins)** - Extend functionality with Rollup plugins
- **[Hooks](/docs/options/hooks)** - Build lifecycle hooks and custom logic

## Option Categories

### Input/Output Options
Configure what files to process and where to output the results.

```typescript
export default defineConfig({
  entry: ['src/index.ts', 'src/cli.ts'],
  
  rollup: {
    output: [
      { format: 'esm', dir: 'dist/esm' },
      { format: 'cjs', dir: 'dist/cjs' }
    ]
  }
})
```

### Transformation Options
Control how your code is transformed and optimized.

```typescript
export default defineConfig({
  transformer: 'esbuild',
  target: 'es2020',
  minify: true,
  
  esbuild: {
    jsx: 'automatic',
    platform: 'node'
  }
})
```

### Development Options
Configure the development workflow and debugging experience.

```typescript
export default defineConfig({
  watch: true,
  sourcemap: true,
  
  server: {
    port: 3000,
    hmr: true
  }
})
```

### Advanced Options
Fine-tune the build process with advanced configuration.

```typescript
export default defineConfig({
  rollup: {
    external: ['react', 'react-dom'],
    plugins: [
      // Custom plugins
    ]
  },
  
  hooks: {
    'build:before': async () => {
      // Custom build logic
    }
  }
})
```

## Environment-Specific Configuration

### Development vs Production

```typescript
export default defineConfig({
  minify: process.env.NODE_ENV === 'production',
  sourcemap: process.env.NODE_ENV === 'development',
  
  rollup: {
    output: {
      format: process.env.TARGET_FORMAT || 'esm'
    }
  }
})
```

### Conditional Configuration

```typescript
export default defineConfig({
  ...(process.env.BUILD_LIB && {
    entry: 'src/lib.ts',
    rollup: {
      external: ['react', 'react-dom']
    }
  }),
  
  ...(process.env.BUILD_APP && {
    entry: 'src/app.ts',
    minify: true
  })
})
```

## Configuration Validation

Packen automatically validates your configuration and provides helpful error messages for common issues:

- **Missing entry points** - Warns if specified entry files don't exist
- **Invalid output formats** - Validates format compatibility
- **Plugin conflicts** - Detects conflicting plugin configurations
- **Type mismatches** - TypeScript integration for type-safe configuration

## Configuration Examples

### Library Build

```typescript
export default defineConfig({
  entry: 'src/index.ts',
  
  rollup: {
    external: ['react', 'react-dom'],
    output: [
      { format: 'esm', file: 'dist/index.mjs' },
      { format: 'cjs', file: 'dist/index.cjs' }
    ]
  },
  
  declaration: true,
  minify: true
})
```

### Application Build

```typescript
export default defineConfig({
  entry: 'src/main.ts',
  
  rollup: {
    output: {
      format: 'iife',
      file: 'dist/app.js',
      name: 'MyApp'
    }
  },
  
  minify: true,
  sourcemap: false
})
```

### Multi-Package Monorepo

```typescript
export default defineConfig({
  entry: {
    core: 'packages/core/src/index.ts',
    utils: 'packages/utils/src/index.ts',
    ui: 'packages/ui/src/index.ts'
  },
  
  rollup: {
    output: {
      format: 'esm',
      dir: 'dist',
      entryFileNames: '[name]/index.mjs'
    }
  }
})
```

---

## Next Steps

- **[Getting Started](/docs/guide/getting-started)** - Basic setup and first build
- **[Transformers](/docs/guide/transformers)** - Choose the right transformer
- **[CSS Processing](/docs/guide/css)** - Handle styles and preprocessors
- **[Examples](/docs/examples)** - Real-world configuration examples
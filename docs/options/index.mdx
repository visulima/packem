---
title: Configuration Options
description: Complete reference for all Packem configuration options
---

# Configuration Options

Packem provides extensive configuration options to customize your build process. All options can be configured through the `packem.config.ts` file or passed via CLI arguments.

## Quick Navigation

<Cards>
  <Card
    title="Entry Points"
    href="/docs/options/entry"
  >
    Configure entry points and automatic detection
  </Card>
  
  <Card
    title="Config File"
    href="/docs/options/config-file"
  >
    Setup and structure of configuration files
  </Card>
  
  <Card
    title="Declaration Files"
    href="/docs/options/declaration-files"
  >
    TypeScript declaration generation and options
  </Card>
  
  <Card
    title="Output Format"
    href="/docs/options/output-format"
  >
    Configure ESM, CJS, IIFE, and UMD formats
  </Card>
  
  <Card
    title="Output Directory"
    href="/docs/options/output-directory"
  >
    Control where files are written and organized
  </Card>
  
  <Card
    title="Target"
    href="/docs/options/target"
  >
    JavaScript compilation targets and environments
  </Card>
  
  <Card
    title="Externals"
    href="/docs/options/externals"
  >
    Configure external dependencies
  </Card>
  
  <Card
    title="Watch Mode"
    href="/docs/options/watch"
  >
    File watching for development builds
  </Card>
  
  <Card
    title="Source Maps"
    href="/docs/options/source-maps"
  >
    Debug information and source map generation
  </Card>
  
  <Card
    title="Minification"
    href="/docs/options/minify"
  >
    Code minification for production builds
  </Card>
  
  <Card
    title="Plugins"
    href="/docs/options/plugins"
  >
    Extend functionality with Rollup plugins
  </Card>
  
  <Card
    title="Hooks"
    href="/docs/options/hooks"
  >
    Build lifecycle hooks and custom logic
  </Card>
</Cards>

## Configuration Structure

```typescript
// packem.config.ts
import { defineConfig } from '@visulima/packem/config'
import transformer from '@visulima/packem/transformer/esbuild'

export default defineConfig({
  // Entry points (auto-detected from package.json if not specified)
  entries: ['./src/index.ts'],
  
  // Transformer selection
  transformer,
  
  // Build options
  runtime: 'node', // or 'browser'
  minify: true,
  sourcemap: true,
  declaration: true,
  clean: true,
  
  // Rollup-specific configuration
  rollup: {
    // Output configuration
    output: {
      format: 'esm',
      dir: 'dist'
    },
    
    // External dependencies
    external: ['react', 'react-dom'],
    
    // Plugins
    plugins: [
      // Custom rollup plugins
    ],
    
    // CSS processing
    css: {
      mode: 'extract',
      minifier: true
    },
    
    // Other rollup options
    treeshake: true,
    watch: {
      include: 'src/**'
    }
  },
  
  // Build lifecycle hooks
  hooks: {
    'build:before': async () => {
      console.log('Starting build...')
    }
  }
})
```

## Core Options

### Entry and Output
- **[Entry](/docs/options/entry)** - Configure entry points and automatic detection
- **[Output Format](/docs/options/output-format)** - ESM, CJS, IIFE, UMD output formats
- **[Output Directory](/docs/options/output-directory)** - File organization and directory structure

### Build Configuration
- **[Config File](/docs/options/config-file)** - Configuration file setup and structure
- **[Target](/docs/options/target)** - JavaScript compilation targets and environments
- **[Declaration Files](/docs/options/declaration-files)** - TypeScript declaration generation

### Dependencies and Externals
- **[Externals](/docs/options/externals)** - Configure external dependencies that shouldn't be bundled

### Development and Debugging
- **[Watch Mode](/docs/options/watch)** - File watching for development builds
- **[Source Maps](/docs/options/source-maps)** - Debug information and source map generation

### Optimization
- **[Minification](/docs/options/minify)** - Code minification with multiple engines

### Extensibility
- **[Plugins](/docs/options/plugins)** - Extend functionality with Rollup plugins
- **[Hooks](/docs/options/hooks)** - Build lifecycle hooks and custom logic

## Option Categories

### Input/Output Options
Configure what files to process and where to output the results.

```typescript
export default defineConfig({
  entries: ['src/index.ts', 'src/cli.ts'],
  
  rollup: {
    output: [
      { format: 'esm', dir: 'dist/esm' },
      { format: 'cjs', dir: 'dist/cjs' }
    ]
  }
})
```

### Transformation Options
Control how your code is transformed and optimized.

```typescript
import transformer from '@visulima/packem/transformer/esbuild'

export default defineConfig({
  transformer,
  runtime: 'browser',
  minify: true,
  
  rollup: {
    // Transformer-specific options would go in the transformer import
    // Most other options go here
  }
})
```

### Development Options
Configure the development workflow and debugging experience.

```typescript
export default defineConfig({
  sourcemap: true,
  
  rollup: {
    watch: {
      include: 'src/**/*'
    }
  }
})
```

### Advanced Options
Fine-tune the build process with advanced configuration.

```typescript
export default defineConfig({
  rollup: {
    external: ['react', 'react-dom'],
    plugins: [
      // Custom plugins
    ],
    
    treeshake: true,
    
    css: {
      mode: 'extract'
    }
  },
  
  hooks: {
    'build:before': async () => {
      // Custom build logic
    }
  }
})
```

## Environment-Specific Configuration

### Development vs Production

```typescript
export default defineConfig({
  minify: process.env.NODE_ENV === 'production',
  sourcemap: process.env.NODE_ENV === 'development',
  
  rollup: {
    output: {
      format: process.env.TARGET_FORMAT || 'esm'
    }
  }
})
```

### Conditional Configuration

```typescript
export default defineConfig({
  ...(process.env.BUILD_LIB && {
    entries: ['src/lib.ts'],
    rollup: {
      external: ['react', 'react-dom']
    }
  }),
  
  ...(process.env.BUILD_APP && {
    entries: ['src/app.ts'],
    minify: true
  })
})
```

## Configuration Validation

Packem automatically validates your configuration and provides helpful error messages for common issues:

- **Missing entry points** - Warns if specified entry files don't exist
- **Invalid output formats** - Validates format compatibility
- **Plugin conflicts** - Detects conflicting plugin configurations
- **Type mismatches** - TypeScript integration for type-safe configuration

## Configuration Examples

### Library Build

```typescript
export default defineConfig({
  entries: ['src/index.ts'],
  declaration: true,
  minify: true,
  
  rollup: {
    external: ['react', 'react-dom'],
    output: [
      { format: 'esm', file: 'dist/index.mjs' },
      { format: 'cjs', file: 'dist/index.cjs' }
    ]
  }
})
```

### Application Build

```typescript
export default defineConfig({
  entries: ['src/main.ts'],
  minify: true,
  sourcemap: false,
  
  rollup: {
    output: {
      format: 'iife',
      file: 'dist/app.js',
      name: 'MyApp'
    }
  }
})
```

### Multi-Package Monorepo

```typescript
export default defineConfig({
  entries: [
    { input: 'packages/core/src/index.ts', name: 'core' },
    { input: 'packages/utils/src/index.ts', name: 'utils' },
    { input: 'packages/ui/src/index.ts', name: 'ui' }
  ],
  
  rollup: {
    output: {
      format: 'esm',
      dir: 'dist',
      entryFileNames: '[name]/index.mjs'
    }
  }
})
```

---

## Next Steps

- **[Getting Started](/docs/guide/getting-started)** - Basic setup and first build
- **[Transformers](/docs/guide/transformers)** - Choose the right transformer
- **[CSS Processing](/docs/guide/css)** - Handle styles and preprocessors
- **[Examples](/docs/examples)** - Real-world configuration examples